# Strategy Pattern

> ì•Œê³ ë¦¬ì¦˜êµ°ì„ ì •ì˜í•˜ê³  ê°ê°ì„ ìº¡ìŠí™”í•˜ì—¬ êµí™˜í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“ ë‹¤. ìŠ¤íŠ¸ë˜í‹°ì§€ë¥¼ í™œìš©í•˜ë©´ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ì˜ ë…ë¦½ì ìœ¼ë¡œ ì•Œê³ ë¦¬ì¦˜ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
> 

### ë¹„ìœ í•´ë³´ê¸°

ê°ì²´ ì§€í–¥ì„ í™œìš©í•˜ê³  ì‹¶ì€ ì‹ ì… ê°œë°œì ìœ ì”¨ëŠ” ì´ë²ˆ ì˜¤ë¦¬ ê²Œì„ì— ê´€ë ¨í•˜ì—¬ ì˜¤ë¦¬ë¥¼ ë§Œë“œëŠ” ì„ë¬´ë¥¼ ë¶€ì—¬ë°›ì•˜ë‹¤. ìœ ì”¨ëŠ” ê¸´ ê³ ë¯¼ì„ í•˜ë‹¤ ì˜¤ë¦¬ë¥¼ ì¶”ìƒí™”ëœ ê°ì²´ë¡œ ë§Œë“¤ì–´ ë‹¤ì–‘í•œ ì˜¤ë¦¬ë“¤ì„ êµ¬í˜„í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ì—ˆë‹¤.

<img width="582" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-10-14 á„‹á…©á„’á…® 6 13 39" src="https://user-images.githubusercontent.com/58363663/137288055-22a1d431-8c39-4806-b449-12315416cc34.png">


ì´ë ‡ê²Œ êµ¬í˜„í•œ ì‹ ì…ì‚¬ì› ìœ ì”¨ëŠ” 'ì´ì œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ë“¤ì–´ì˜¤ë©´ ì˜¤ë¦¬ í´ë˜ìŠ¤ì— ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë©´ ë˜ê² ì§€? ë‚œ ì²œì¬ì•¼!'ë¼ê³  ìƒê°í–ˆë‹¤. 

ì‹¤ì œë¡œ ë‚ ì•„ë‹¤ë…€ì•¼ í•˜ëŠ” ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆë‹¤. ìœ ì”¨ëŠ” ì˜¤ë¦¬í´ë ˆìŠ¤ì— ë‚ ê¸°() ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì˜€ë‹¤.

<img width="545" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-10-14 á„‹á…©á„’á…® 6 15 09" src="https://user-images.githubusercontent.com/58363663/137288127-65f6c6a6-e308-44ed-ac9f-eca570c1546f.png">



ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì—¬ ë°ëª¨ë¥¼ í–ˆë”ë‹ˆ ë‚œë¦¬ê°€ ë‚¬ë‹¤. 'ë˜ì¹˜ëŠ” ë‚ ì•„ë‹¤ë‹ˆë©´ ì•ˆë˜ëŠ”ë° ì™œ ë‚ ì•„ë‹¤ë‹ˆë‚˜ìš”. ì´ê²Œ ê²Œì„ì…ë‹ˆê¹Œ??'

ì•„ë¿”ì‚¬ ê°œë°œì ìœ ì”¨ëŠ” ëª¨ë“  ì˜¤ë¦¬ë“¤ì—ê²Œ ë‚ ì•„ë‹¤ë‹ˆëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•´ë²„ë ¸ë‹¤. ë§¤ë²ˆ ì˜¤ë¦¬ê°€ ì¶”ê°€ë ë•Œë§ˆë‹¤ ê¸°ëŠ¥ì´ ì¡°ê¸ˆì”© ë‹¤ë¥¼í…ë° ì–´ë–»ê²Œ í•´ì•¼ë ê¹Œ ê³ ë¯¼í•˜ëŠ” ìˆœê°„ ì„ ë°° ê°œë°œìê°€ 'ì „ëµíŒ¨í„´ì„ ì‚¬ìš©í•´ë³´ê² ì–´ìš”?'ë¼ê³  í‚¤ì›Œë“œë¥¼ ë‚¨ê²¨ì£¼ì—ˆë‹¤.

ì´ì œë¶€í„° ë°©ê¸ˆ ìƒí™©ì„ ì½”ë“œë¡œ êµ¬í˜„í•´ë³´ë©° ì „ëµíŒ¨í„´ì— ëŒ€í•´ ì´í•´í•´ë³´ì. 

### ì „ëµ íŒ¨í„´

```java
abstract class Duck {
    void run() { System.out.println("ë‹¬ë¦°ë‹¤!"); }
    void jump() { System.out.println("ì í”„í•œë‹¤!"); }
    void dance() { System.out.println("ì¶¤ì¶˜ë‹¤!"); }
}

class DonaldDuck extends Duck {

}

class Tube extends Duck {

}

class Ddochi extends Duck {

}
```

ì´ë•Œ ë‚ ê¸° ê¸°ëŠ¥ì„ ì–´ë–»ê²Œ ì¶”ê°€í•´ì•¼í• ê¹Œ? ë‚ ì•„ë‹¤ë‹ˆëŠ” ê¸°ëŠ¥ì´ ë‹´ê²¨ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ì£¼ë©´ ëœë‹¤.

```java
interface FlyBehavior {
    void fly();
}

class FlyWithWings implements FlyBehavior {

    @Override
    public void fly() {
        System.out.println("ë‚ ì•„ë‹¤ë‹Œë‹¤!");
    }
}

class FlyNoWay implements FlyBehavior {

    @Override
    public void fly() {
        // ë‚ ì§€ ì•ŠëŠ”ë‹¤.
    }
}
```

ì´ì œ FlyBehavior ì¸í„°í˜ì´ìŠ¤ë¥¼ ì˜¤ë¦¬ì˜ í•„ë“œë¡œ ë„£ì–´ì£¼ì.

```java
abstract class Duck {
    FlyBehavior flyBehavior;

    public Duck(FlyBehavior flyBehavior) {
        this.flyBehavior = flyBehavior;
    }

    void run() { System.out.println("ë‹¬ë¦°ë‹¤!"); }
    void jump() { System.out.println("ì í”„í•œë‹¤!"); }
    void dance() { System.out.println("ì¶¤ì¶˜ë‹¤!"); }
		**void fly() { this.flyBehavior.fly(); }**
}
```

ì´ì œ ì˜¤ë¦¬ê°€ ìƒì„±ë  ë•Œ ë‚ ê²Œ ë§Œë“¤ì§€ ëª» ë‚ ê²Œ ë§Œë“¤ì§€ ì •í•´ì¤„ ìˆ˜ ìˆë‹¤. 
setFlyBehavior()ë¼ëŠ” ë©”ì†Œë“œë¥¼ ë§Œë“¤ì–´ì„œ ë‚ ì§€ ëª»í•œ ìƒíƒœì—ì„œë„ ë‹¤ì‹œ ë‚ ì•„ë‹¤ë‹ˆë„ë¡ ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ë„ ìˆë‹¤.

<img width="814" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-10-14 á„‹á…©á„’á…® 6 15 37" src="https://user-images.githubusercontent.com/58363663/137288319-71e5eea5-1501-4726-8e8b-49b9200897b7.png">



### ì •ë¦¬

ì „ëµíŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ê¸°ëŠ¥ì— ëŒ€í•´ ìœ ì—°í•˜ê²Œ ëŒ€ì²˜ê°€ ê°€ëŠ¥í•˜ë‹¤ ëŠê²¼ê³  ì •ë§ ìì£¼ì“°ì´ëŠ” íŒ¨í„´ê°™ì•„ ë³´ì—¬ ì˜ ìµí˜€ë‘ì–´ì•¼ê² ë‹¤.

---


# Observer Pattern
> í•œ ê°ì²´ì˜ ìƒíƒœê°€ ë°”ë€Œë©´ ê·¸ ê°ì²´ì— ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ ê°ì²´ë“¤í•œí…Œ ì—°ë½ì´ ê°€ê³  ìë™ìœ¼ë¡œ ë‚´ìš©ì´ ê°±ì‹ ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì¼ëŒ€ë‹¤ ì˜ì¡´ì„±ì„ ì •ì˜í•œë‹¤.
> 

ì•Œì•„ë‘ì–´ì•¼ í•  í‚¤ì›Œë“œ : ëŠìŠ¨í•œ ê²°í•©

### ğŸŒ± ë¹„ìœ í•´ë³´ê¸°

ìœ ì”¨ëŠ” í‰ì†Œ ê°œë°œë§Œ ê³µë¶€í•˜ë‹¤ë³´ë‹ˆ ì‚¬íšŒ, ê²½ì œ, ì •ì¹˜ ë“± ì—¬ë ¤ êµì–‘ ì§€ì‹ì„ ìŠµë“í•˜ì§€ ëª» í•˜ê³  ìˆë‹¤. ê¸¸ê°€ë‹¤ ìš°ì—°íˆ ì‹ ë¬¸ì„ íŒŒëŠ” ì•„ì €ì”¨ë¥¼ ë§Œë‚˜ê²Œ ë˜ì–´ ì‹ ë¬¸ì„ êµ¬ë…í•˜ê¸°ë¡œ ë§ˆìŒë¨¹ì—ˆë‹¤. ë§¤ì¼ ì§‘ ì•ìœ¼ë¡œ ìƒˆë¡œìš´ ë‚´ìš©ì˜ ì‹ ë¬¸ì´ ë„ì°©í•œë‹¤. ë¬¼ë¡  ìœ ì”¨ë§ê³ ë„ ë‹¤ì–‘í•œ êµ¬ë…ìë“¤ì´ ì¡´ì¬í•œë‹¤. 

êµ¬ë…ì„ ì‹ ì²­í•œ êµ¬ë…ìë“¤ì€ ë§¤ì¼ ë°”ë€ ìƒíƒœì˜ ì‹ ë¬¸ì„ ë°›ëŠ”ë‹¤!! ì—¬ê¸°ì„œ `**êµ¬ë…ì = ì˜µì €ë²„**`ì´ë‹¤.

í•˜ì§€ë§Œ ì‹œê°„ì´ ì§€ë‚˜ì ìœ ì”¨ëŠ” ì‹ ë¬¸ë§ˆì € ì½ì§€ ì•Šì•˜ê³  ê²°êµ­ êµ¬ë…ì„ ì·¨ì†Œí•˜ì˜€ë‹¤. ì´ ê³¼ì •ì´ ì˜µì €ë²„ íŒ¨í„´ì—ì„œ ì¼ì–´ë‚˜ëŠ” ê³¼ì •ì´ë‹¤. 

í•„ìš”ì— ë”°ë¼ ì˜µì €ë²„ë¡œ ë“±ë¡í•˜ì—¬ ìƒíƒœê°€ ë³€í• ë•Œë§ˆë‹¤ ì•Œë¦¼ì„ ë°›ì„ ìˆ˜ ìˆê³  ì›í•˜ë©´ ì˜µì €ë²„ì—ì„œ íƒˆí‡´í•  ìˆ˜ ìˆë‹¤.

### â˜˜ï¸ ì˜µì €ë²„ íŒ¨í„´

ê°œë°œì ìœ ì”¨ëŠ” ì˜¤ë¦¬ ê²Œì„ í”„ë¡œì íŠ¸ë¥¼ ì˜ ë§ˆë¬´ë¦¬í•˜ê³  ìƒˆë¡œìš´ ì„ë¬´ë¥¼ ë¶€ì—¬ë°›ì•˜ë‹¤. ê·¸ ì„ë¬´ëŠ” ê¸°ìƒì²­ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ ì˜¨ë„ê°€ ë°”ë€”ë•Œë§ˆë‹¤ ì—¬ëŸ¬ ë””ìŠ¤í”Œë ˆì´ê°€ ê°ê°ì˜ í™”ë©´ìœ¼ë¡œ ë³´ì—¬ì§ˆ ìˆ˜ ìˆë„ë¡ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì•¼í•œë‹¤.

<img width="710" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-10-15 á„‹á…©á„Œá…¥á†« 1 11 43" src="https://user-images.githubusercontent.com/58363663/137431303-e4e6d848-0443-4892-ac43-fb589df7575c.png">


```java
class WeatherData {

    public double setTemperature() {
        // ê¸°ìƒì²­ ë°ì´í„° ê°€ì ¸ì˜¤ëŠ” ë¡œì§
        this.temperature = 19.1D;
    }

    public double setHumidity() {
        // ê¸°ìƒì²­ ë°ì´í„° ê°€ì ¸ì˜¤ëŠ” ë¡œì§
        return this.humidity = 80.0D;
    }

    public void measure() {
        // ìœ ì”¨ê°€ êµ¬í˜„í•´ì•¼ë  ë¡œì§
    }
}
```

ì‹ ì… ê°œë°œì ìœ ì”¨ëŠ” ì—¬ëŸ¬ ê³ ë¯¼ì„ í•´ë³´ë©° ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ êµ¬í˜„í•˜ì˜€ë‹¤.

```java
public void measure() {
    display1.update(temperature, humidity);
    display2.update(temperature, humidity);
    display3.update(temperature, humidity);
}
```

ì—­ì‹œë‚˜ ì„ ë°°ê°œë°œìê°€ ì™€ì„œ ìœ„ ì½”ë“œì— ë¬¸ì œì— ëŒ€í•´ ì´ì•¼ê¸°í–ˆë‹¤. 'ë§¤ë²ˆ ë””ìŠ¤í”Œë ˆì´ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí• ê±´ê°€ìš”? ì¢€ ë” ì¶”ìƒí™”ì‹œì¼œë³´ì„¸ìš”! íŒíŠ¸ëŠ” ì˜µì €ë²„ íŒ¨í„´ì´ì—ìš”.' 

ë³¸ê²©ì ìœ¼ë¡œ ì˜µì €ë²„ íŒ¨í„´ì„ ë‹¤ì´ì–´ê·¸ë¨ìœ¼ë¡œ ì‰½ê²Œ ì´í•´í•´ë³´ì.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-10-15 á„‹á…©á„’á…® 1 15 10](https://user-images.githubusercontent.com/58363663/137431393-996b9f0e-5b83-4c4c-95e8-53ddaf5a90c4.png)


SubjectëŠ” ì˜µì €ë²„ë¥¼ ë“±ë¡í•˜ê³  ì‚­ì œí•˜ê³  ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆì„ë•Œ ëª¨ë“  ì˜µì €ë²„ë“¤ì—ê²Œ ì•Œë¦¼ì„ ë³´ë‚¼ ê¸°ëŠ¥ì„ ê°€ì§„ë‹¤.

ObserverëŠ” ë‹¨ìˆœíˆ update() ê¸°ëŠ¥ì„ í•œë‹¤. ì˜µì €ë²„ê°€ ë˜ë ¤ëŠ” ê°ì²´ë“¤ì€ ëª¨ë‘ í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼í•œë‹¤.

**WeatherData**ëŠ” **Subject**ë¥¼ êµ¬í˜„í•˜ê³  **DisplayëŠ” Observer** ë¡œ êµ¬í˜„í•  ê²ƒì´ë‹¤.

```java
public static void main(String[] args) {
    WeatherData weatherData = new WeatherData();
    weatherData.setHumidity(18.0D);      // ê¸°ìƒì²­ì—ì„œ ê°€ì ¸ì˜¨ë‹¤ ê°€ì •
    weatherData.setTemperature(87.0D);   // ê¸°ìƒì²­ì—ì„œ ê°€ì ¸ì˜¨ë‹¤ ê°€ì •

    Display display1 = **new Display1(weatherData);**
    Display display2 = **new Display2(weatherData);**

    weatherData.measure();

    weatherData.setHumidity(11.0D);      // ê¸°ìƒì²­ì—ì„œ ê°€ì ¸ì˜¨ë‹¤ ê°€ì •
    weatherData.setTemperature(90.0D);   // ê¸°ìƒì²­ì—ì„œ ê°€ì ¸ì˜¨ë‹¤ ê°€ì •

    weatherData.measure();
}
```

- ë¨¼ì € WeatherData ê°ì²´ë¥¼ ìƒì„±í•œ í›„ ì˜µì €ë²„ë¡œ ì‚¬ìš©ë  display1ê³¼ display2ë¥¼ ìƒì„±í•œë‹¤.
- ë‚´ë¶€ ë¡œì§ì„ ë” ì‚´í´ë³´ë©´ ì•Œê² ì§€ë§Œ ì´ë ‡ê²Œ ìƒì„±ë§Œí•´ë„ diplay1,2ëŠ” Observer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ êµ¬í˜„ì²´ì´ë¯€ë¡œ ì´ì œ ì˜¨ë„ë‚˜ ìŠµë„ê°€ ë°”ë€”ë•Œë§ˆë‹¤ measure() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´ displayì—ì„œ í™”ë©´ì´ ë‚˜ì˜¤ê²Œ ë  ê²ƒì´ë‹¤.
- ì •ë¦¬) display1ê³¼ display2ëŠ” WeatherDateë¥¼ êµ¬ë…í•˜ì˜€ê³  ìƒíƒœê°€ ë³€ê²½ë ë•Œë§ˆë‹¤ ì•Œë¦¼ì„ ë°›ì„ê²ƒì´ë‹¤.

```java
interface Subject {
    void registerObserver(Observer observer);    //ì˜µì €ë²„ ì¶”ê°€
    void removeObserver(Observer observer);      //ì˜µì €ë²„ ì‚­ì œ
    void notifyObserver();
}

class WeatherData implements Subject {

    List<Observer> observerList = new ArrayList<>();
    double temperature;
    double humidity;

    public void setTemperature(double temperature) {
        this.temperature = temperature;
    }

    public void setHumidity(double humidity) {
        this.humidity = temperature;
    }

    public void measure() {
        notifyObserver();
    }

    @Override
    public void registerObserver(Observer observer) {
        observerList.add(observer);
    }

    @Override
    public void removeObserver(Observer observer) {
        observerList.remove(observer);
    }

    @Override
    public void notifyObserver() {
				**// í•µì‹¬!!!!! ì˜µì €ë²„ë“¤í•œí…Œ ìƒíƒœ ë³€ê²½ëë‹¤ê³  ì „ë‹¬**
        for (Observer observer : observerList) {
            **observer.update(temperature, humidity);**  
        }
    }
}
```

- WeatherDateëŠ” ì—¬ëŸ¬ ì˜µì €ë²„ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ Listë¡œ ê°€ì§„ë‹¤. (feat.ì‹ ë¬¸ êµ¬ë…ìë“¤)
- measure() í˜¹ì€  notifyObserver()ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ì˜µì €ë²„ë“¤ì—ê²Œ ìƒíƒœê°€ ë³€ê²½ëœ ê²ƒì„ ì•Œë¦¬ê²Œ ëœë‹¤.
- ì •ë¦¬) WeatherDataëŠ” ì—¬ëŸ¬ ì˜µì €ë²„ë“¤ì„ ê´€ë¦¬í•œë‹¤!! (feat.ì‹ ë¬¸ì‚¬)

```java
interface Observer {
    void update(double temperature, double humidity);
}

interface Display {

    void display();
}

class Display1 implements Observer, Display {

    double temperature;
    double humidity;
    Subject weatherData;

    public Display1(Subject weatherData) {
        this.weatherData = weatherData;
        **weatherData.registerObserver(this);     // ì € êµ¬ë…í• ê²Œìš”!!!**
    }

    @Override
    public void update(double temperature, double humidity) {
        this.temperature = temperature;
        this.humidity = humidity;
        display();
    }

    @Override
    public void display() {
				// Display1ì˜ ê¸°ëŠ¥ì„ í•˜ë„ë¡ êµ¬í˜„í•˜ì! ë‹¤í˜•ì„±!!!
        System.out.println("Display1 ì†¡ì¶œì…ë‹ˆë‹¤. ì˜¨ë„ : " + temperature + " ìŠµë„ : " + humidity);
    }
}

class Display2 implements Observer, Display {

  // ...
}
```

- Display ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ êµ¬í˜„ì²´ë“¤ì€ ìƒì„±ë ë•Œ Subjectë¥¼ ì¸ìë¡œ ë°›ì•„ì„œ ì˜µì €ë²„ë¡œ ë“±ë¡í•œë‹¤.

### ì •ë¦¬

ì „ëµíŒ¨í„´ë³´ë‹¤ëŠ” ì¡°ê¸ˆ ë‚œì´ë„ê°€ ìˆì„ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•œë‹¤. í•˜ì§€ë§Œ ì‹ ë¬¸ì‚¬ì™€ êµ¬ë…ìë¥¼ ì˜ ë– ì˜¬ë¦¬ë©´ ìƒê°ë³´ë‹¤ ì‰½ê²Œ êµ¬í˜„ ë  ê²ƒì´ë‹¤! ìë°” ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ìˆëŠ” Observer ì¸í„°í˜ì´ìŠ¤ëŠ” í˜„ì¬ Deprecatedë˜ì—ˆë‹¤.
